# 공학용 계산기 개발 작업 목록

## Phase 1: 프로젝트 초기 설정 및 환경 구축

### 1.1 개발 환경 설정

#### 1.1.1 Vite + TypeScript 프로젝트 초기화
- [ ] `npm create vite@latest .` 실행 (Vanilla + TypeScript 선택)
- [ ] 생성된 기본 파일 구조 확인
- [ ] 불필요한 샘플 파일 삭제 (`counter.ts`, `typescript.svg` 등)
- [ ] `npm install` 실행하여 의존성 설치
- [ ] `npm run dev` 실행하여 개발 서버 동작 확인

#### 1.1.2 Tailwind CSS 설정
- [ ] Tailwind CSS 및 관련 패키지 설치 (`tailwindcss`, `postcss`, `autoprefixer`)
- [ ] `npx tailwindcss init -p` 실행하여 설정 파일 생성
- [ ] `tailwind.config.js`에 content 경로 설정 (`./index.html`, `./src/**/*.{js,ts}`)
- [ ] `src/style.css`에 Tailwind directives 추가 (`@tailwind base;` 등)
- [ ] 커스텀 컬러 팔레트 설정 (PRD 참조)
- [ ] 다크모드 설정 (`darkMode: 'class'`)
- [ ] 빌드 후 Tailwind 적용 확인

#### 1.1.3 ESLint 설정
- [ ] ESLint 및 TypeScript 플러그인 설치
- [ ] `.eslintrc.json` 파일 생성
- [ ] TypeScript 규칙 설정 (`@typescript-eslint` 플러그인)
- [ ] 기본 규칙 설정 (세미콜론, 따옴표, 들여쓰기 등)
- [ ] `package.json`에 lint 스크립트 추가

#### 1.1.4 Prettier 설정
- [ ] Prettier 설치
- [ ] `.prettierrc` 파일 생성
- [ ] 포맷팅 규칙 설정 (탭 크기, 세미콜론, 따옴표 등)
- [ ] ESLint와 Prettier 충돌 방지 설정 (`eslint-config-prettier`)
- [ ] `package.json`에 format 스크립트 추가
- [ ] VSCode 설정 파일 생성 (`.vscode/settings.json`)

#### 1.1.5 Git 설정
- [ ] `.gitignore` 파일 확인 및 수정 (node_modules, dist 등)
- [ ] `.agent` 디렉토리 gitignore에 추가
- [ ] Git 초기 커밋 준비
- [ ] 커밋 메시지 컨벤션 문서화

#### 1.1.6 Package.json 스크립트 설정
- [ ] `dev` 스크립트 확인
- [ ] `build` 스크립트 확인
- [ ] `preview` 스크립트 확인
- [ ] `lint` 스크립트 추가
- [ ] `format` 스크립트 추가
- [ ] `test` 스크립트 추가 (Vitest 설치 후)

### 1.2 프로젝트 구조 생성
- [ ] 디렉토리 구조 생성 (`src/core`, `src/ui`, `src/utils`, `src/types`)
- [ ] 기본 HTML 템플릿 작성 (`index.html`)
- [ ] Tailwind 설정 파일 구성 (`tailwind.config.js`)
- [ ] TypeScript 설정 파일 구성 (`tsconfig.json`)

### 1.3 타입 정의
- [ ] `CalculatorState` 인터페이스 정의
- [ ] `HistoryItem` 인터페이스 정의
- [ ] `ThemeType` 타입 정의
- [ ] 연산자 및 버튼 타입 정의

---

## Phase 2: 핵심 로직 구현 (TDD - 코어 로직만)

### 2.1 테스트 환경 설정 (코어 로직용)
- [ ] Vitest 설치 및 설정
- [ ] 테스트 디렉토리 구조 생성 (`src/core/__tests__`, `src/utils/__tests__`)
- [ ] 테스트 유틸리티 함수 작성
- [ ] 테스트 커버리지 설정 (코어 로직만 측정)

### 2.2 계산 엔진 구현 (TDD)
- [ ] **테스트**: 기본 사칙연산 테스트 작성
- [ ] **구현**: `CalculatorEngine` 클래스 - 덧셈, 뺄셈
- [ ] **테스트**: 곱셈, 나눗셈 테스트 작성
- [ ] **구현**: 곱셈, 나눗셈 로직
- [ ] **테스트**: 연산자 우선순위 테스트 작성
- [ ] **구현**: Shunting-yard 알고리즘 적용
- [ ] **테스트**: 괄호 연산 테스트 작성
- [ ] **구현**: 괄호 처리 로직
- [ ] **테스트**: 에러 케이스 테스트 (0으로 나누기, 잘못된 수식)
- [ ] **구현**: 에러 핸들링 로직
- [ ] **테스트**: 부동소수점 정밀도 테스트
- [ ] **구현**: 정밀도 처리 유틸리티

### 2.3 상태 관리 구현 (TDD)
- [ ] **테스트**: `CalculatorState` 초기화 테스트
- [ ] **구현**: `CalculatorState` 클래스 기본 구조
- [ ] **테스트**: 상태 업데이트 테스트
- [ ] **구현**: 상태 업데이트 메서드 (Observer 패턴)
- [ ] **테스트**: 히스토리 추가/삭제 테스트
- [ ] **구현**: 히스토리 관리 로직

### 2.4 유틸리티 함수 구현 (TDD)
- [ ] **테스트**: 숫자 포맷팅 테스트 (천 단위 구분)
- [ ] **구현**: `Formatter.formatNumber()` 함수
- [ ] **테스트**: 입력 유효성 검사 테스트
- [ ] **구현**: `Validators.isValidInput()` 함수
- [ ] **테스트**: 수식 파싱 테스트
- [ ] **구현**: 수식 파서 함수

### 2.5 스토리지 서비스 구현 (TDD)
- [ ] **테스트**: LocalStorage 저장/불러오기 테스트
- [ ] **구현**: `StorageService` 클래스
- [ ] **테스트**: 데이터 직렬화/역직렬화 테스트
- [ ] **구현**: JSON 변환 로직

---

## Phase 3: UI 구현

### 3.1 기본 레이아웃 구현
- [ ] HTML 마크업 작성 (헤더, 디스플레이, 키패드)
- [ ] Tailwind CSS 기본 스타일 적용
- [ ] 반응형 레이아웃 구현 (모바일 우선)
- [ ] 그리드 시스템 적용 (키패드 버튼 배치)

### 3.2 디스플레이 컴포넌트
- [ ] `Display` 클래스 구현
- [ ] 현재 입력값 렌더링 로직
- [ ] 이전 계산식 표시 로직
- [ ] 커서 애니메이션 구현
- [ ] 오버플로우 처리 (긴 숫자 스크롤)

### 3.3 키패드 컴포넌트
- [ ] `Keypad` 클래스 구현
- [ ] 버튼 이벤트 리스너 등록
- [ ] 버튼 클릭 애니메이션 (scale 효과)
- [ ] 호버 효과 구현
- [ ] 터치 피드백 구현

### 3.4 히스토리 패널 컴포넌트
- [ ] `HistoryPanel` 클래스 구현
- [ ] 히스토리 목록 렌더링
- [ ] 스크롤 기능 구현
- [ ] 히스토리 항목 클릭 이벤트 처리
- [ ] 히스토리 토글 애니메이션

### 3.5 테마 관리
- [ ] `ThemeManager` 클래스 구현
- [ ] 다크/라이트 모드 전환 로직
- [ ] 시스템 테마 감지 (`prefers-color-scheme`)
- [ ] 테마 설정 LocalStorage 저장/불러오기
- [ ] 테마 전환 애니메이션

---

## Phase 4: 통합 및 기능 연결

### 4.1 컨트롤러 구현
- [ ] `UIManager` 클래스 구현
- [ ] 컴포넌트 간 통신 로직
- [ ] 상태 변경 시 UI 업데이트 연결
- [ ] 이벤트 핸들러 통합

### 4.2 입력 처리
- [ ] 숫자 입력 처리 로직
- [ ] 연산자 입력 처리 로직
- [ ] 특수 버튼 처리 (AC, 백스페이스, =)
- [ ] 소수점 입력 처리
- [ ] 괄호 입력 처리

### 4.3 키보드 입력 지원
- [ ] 키보드 이벤트 리스너 등록
- [ ] 숫자 키 매핑 (0-9)
- [ ] 연산자 키 매핑 (+, -, *, /)
- [ ] 특수 키 매핑 (Enter, Backspace, Escape)
- [ ] 키보드 단축키 안내 UI

### 4.4 계산 실행 및 결과 표시
- [ ] = 버튼 클릭 시 계산 실행
- [ ] 결과 디스플레이 업데이트
- [ ] 히스토리에 계산 추가
- [ ] 에러 메시지 표시 (잘못된 수식)

---

## Phase 5: 고급 기능 구현

### 5.1 퍼센트 계산
- [ ] **테스트**: 퍼센트 연산 테스트 작성
- [ ] **구현**: 퍼센트 계산 로직
- [ ] UI 연결 및 테스트

### 5.2 공학 함수 (Phase 2 확장)
- [ ] **테스트**: 삼각함수 테스트 (sin, cos, tan)
- [ ] **구현**: 삼각함수 로직
- [ ] **테스트**: 역삼각함수 테스트 (asin, acos, atan)
- [ ] **구현**: 역삼각함수 로직
- [ ] **테스트**: 로그 함수 테스트 (log, ln)
- [ ] **구현**: 로그 함수 로직
- [ ] **테스트**: 지수 함수 테스트 (x², x³, xʸ, √, ∛)
- [ ] **구현**: 지수 함수 로직
- [ ] 상수 버튼 추가 (π, e)
- [ ] 각도 단위 전환 (Degree/Radian)

### 5.3 Scientific 모드 UI
- [ ] Scientific 모드 레이아웃 설계
- [ ] 모드 전환 버튼 구현
- [ ] 추가 버튼 배치 (삼각함수, 로그 등)
- [ ] 모드별 키패드 전환 애니메이션

---

## Phase 6: 최적화 및 품질 개선

### 6.1 성능 최적화
- [ ] 번들 크기 분석 및 최적화
- [ ] 코드 스플리팅 적용 (필요 시)
- [ ] 이미지 및 폰트 최적화
- [ ] Lighthouse 성능 측정 및 개선 (목표: 90+)

### 6.2 접근성 개선
- [ ] ARIA 레이블 추가
- [ ] 키보드 네비게이션 테스트
- [ ] 스크린 리더 호환성 확인
- [ ] 색상 대비 검사 (WCAG AA 준수)
- [ ] 터치 타겟 크기 확인 (최소 44x44px)

### 6.3 크로스 브라우저 테스트
- [ ] Chrome 테스트
- [ ] Firefox 테스트
- [ ] Safari 테스트
- [ ] Edge 테스트
- [ ] 모바일 브라우저 테스트 (iOS Safari, Chrome Mobile)

### 6.4 버그 수정 및 리팩토링
- [ ] 알려진 버그 수정
- [ ] 코드 리뷰 및 리팩토링
- [ ] 주석 및 문서화 개선
- [ ] SOLID 원칙 준수 확인

---

## Phase 7: 배포 및 CI/CD

### 7.1 GitHub Pages 배포 설정
- [ ] GitHub Actions 워크플로우 작성
- [ ] 빌드 스크립트 설정
- [ ] 배포 자동화 테스트
- [ ] 커스텀 도메인 설정 (선택 사항)

### 7.2 문서화
- [ ] README.md 작성 (프로젝트 소개, 설치 방법, 사용법)
- [ ] CONTRIBUTING.md 작성 (기여 가이드)
- [ ] 코드 주석 정리
- [ ] API 문서 작성 (JSDoc)

### 7.3 최종 검증
- [ ] 전체 기능 테스트
- [ ] 성능 지표 확인
- [ ] 접근성 점수 확인
- [ ] 사용자 시나리오 테스트

---

## Phase 8: 향후 확장 계획 (백로그)

### 8.1 PWA 전환
- [ ] Service Worker 구현
- [ ] 오프라인 지원
- [ ] 설치 가능한 앱 설정
- [ ] 푸시 알림 (선택 사항)

### 8.2 추가 기능
- [ ] 단위 변환기
- [ ] 통화 변환 (API 연동)
- [ ] 그래프 기능 (함수 시각화)
- [ ] 수식 편집기

### 8.3 협업 기능
- [ ] 클라우드 동기화 (Firebase 등)
- [ ] 계산 결과 공유 기능
- [ ] 워크스페이스 관리

---

## 작업 우선순위 요약

1. **Phase 1**: 프로젝트 설정 (1-2일)
2. **Phase 2**: 핵심 로직 TDD 구현 (3-5일)
3. **Phase 3**: UI 구현 (3-4일)
4. **Phase 4**: 통합 및 기능 연결 (2-3일)
5. **Phase 5**: 고급 기능 (선택적, 3-5일)
6. **Phase 6**: 최적화 및 품질 개선 (2-3일)
7. **Phase 7**: 배포 및 문서화 (1-2일)
8. **Phase 8**: 향후 확장 (백로그)

**총 예상 기간**: MVP 기준 약 2-3주, 전체 기능 포함 시 4-5주
